<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QVM</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <div class="islamic-pattern"></div>

  <div id="mainMenu" class="page active">
    <div class="container">
      <div class="header">
        <h1 class="logo">QVM</h1>
        <p class="arabic-subtitle">ุตุงูุน ููุฏูู ุงููุฑุขู ุงููุฑูู</p>
        <p class="arabic-subtitle" style="font-size: small;color: green;">GitHub <a href="https://github.com/modhtom/QVM" target="_blank" style="color: gold; font-size: small;">REPO</a></p>
      </div>
      <div class="nav-buttons">
        <div class="nav-btn" onclick="showPage('fullOptions')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐</span>
            <div class="nav-btn-title">ุณูุฑุฉ ูุงููุฉ</div>
            <div class="nav-btn-desc">ุฅูุดุงุก ููุฏูู ูุงูู ููุณูุฑุฉ ูุน ุงูุชูุงูุฉ</div>
          </div>
        </div>
        <div class="nav-btn" onclick="showPage('partOptions')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐</span>
            <div class="nav-btn-title">ุขูุงุช</div>
            <div class="nav-btn-desc">ุฅูุดุงุก ููุฏูู ูุขูุงุช ูุญุฏุฏุฉ ุฃู ูุทุงู ูุนูู</div>
          </div>
        </div>
        <div class="nav-btn" onclick="showPage('gallery')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐ฌ</span>
            <div class="nav-btn-title">ุงููุนุฑุถ</div>
            <div class="nav-btn-desc">ุชุตูุญ ูุฃุฏุฑู ููุงุทุน ุงูููุฏูู ุงูุชู ุฃูุดุฃุช</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="fullOptions" class="page">
    <button class="back-btn" onclick="showPage('mainMenu')"><span>โ</span> ุงูุนูุฏุฉ ุฅูู ุงููุงุฆูุฉ</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุณูุฑุฉ ูุงููุฉ</h1></div>
      <div class="nav-buttons">
        <div class="nav-btn" onclick="showPage('fullForm')"><div class="nav-btn-content"><span class="nav-btn-icon">๐๏ธ</span><div class="nav-btn-title">ููุชุจุฉ ุงูุชูุงูุฉ</div><div class="nav-btn-desc">ุงุณุชุฎุฏุงู ููุชุจุฉ ุงูุชูุงูุฉ ุงููุฏูุฌุฉ</div></div></div>
        <div class="nav-btn" onclick="showPage('fullFormCustom')"><div class="nav-btn-content"><span class="nav-btn-icon">๐</span><div class="nav-btn-title">ุชูุงูุฉ ูุฎุตุตุฉ</div><div class="nav-btn-desc">ุฑูุน ุชูุงูุชู ุงูุฎุงุตุฉ</div></div></div>
      </div>
    </div>
  </div>

  <div id="partOptions" class="page">
    <button class="back-btn" onclick="showPage('mainMenu')"><span>โ</span> ุงูุนูุฏุฉ ุฅูู ุงููุงุฆูุฉ</button>
    <div class="container">
        <div class="header"><h1 class="logo">ุขูุงุช</h1></div>
        <div class="nav-buttons">
            <div class="nav-btn" onclick="showPage('partForm')"><div class="nav-btn-content"><span class="nav-btn-icon">๐๏ธ</span><div class="nav-btn-title">ููุชุจุฉ ุงูุชูุงูุฉ</div><div class="nav-btn-desc">ุงุณุชุฎุฏุงู ููุชุจุฉ ุงูุชูุงูุฉ ุงููุฏูุฌุฉ</div></div></div>
            <div class="nav-btn" onclick="showPage('partFormCustom')"><div class="nav-btn-content"><span class="nav-btn-icon">๐</span><div class="nav-btn-title">ุชูุงูุฉ ูุฎุตุตุฉ</div><div class="nav-btn-desc">ุฑูุน ุชูุงูุชู ุงูุฎุงุตุฉ</div></div></div>
        </div>
    </div>
</div>

  <div id="fullForm" class="page">
    <button class="back-btn" onclick="showPage('fullOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุงูุณูุฑุฉ ุงููุงููุฉ (ููุชุจุฉ)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColor">ููู ุงููุต</label><input type="color" id="fontColor" value="#ffffff"></div>
            <div class="form-group"><label for="fontSize">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSize" min="1" max="72" value="10"><span id="fontSizeValue">10px</span></div>
            <div class="form-group"><label for="fontNameFull">ุงูุฎุท</label><select id="fontNameFull" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
            <div class="form-group"><label for="translationEditionFull">ุงูุชุฑุฌูุฉ</label><select id="translationEditionFull" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideo">ุฎูููุฉ Pexels</label><input type="text" id="pexelsVideo" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLink">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLink" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLink">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLink" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label for="fullSurahNumber">ุงูุณูุฑุฉ</label><select id="fullSurahNumber" class="form-control"></select></div>
            <div class="form-group"><label for="fullEdition">ุงููุงุฑุฆ</label><select id="fullEdition" class="form-control"></select></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoFull"><label for="verticalVideoFull">ููุฏูู ุนููุฏู (9:16)</label></div>
            <button class="action-btn create-btn">ุฅูุดุงุก ุงูููุฏูู</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="partForm" class="page">
    <button class="back-btn" onclick="showPage('partOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุขูุงุช (ููุชุจุฉ)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColorPart">ููู ุงููุต</label><input type="color" id="fontColorPart" value="#ffffff"></div>
            <div class="form-group"><label for="fontSizePart">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizePart" min="1" max="72" value="10"><span id="fontSizeValuePart">10px</span></div>
            <div class="form-group"><label for="fontNamePart">ุงูุฎุท</label><select id="fontNamePart" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
            <div class="form-group"><label for="translationEditionPart">ุงูุชุฑุฌูุฉ</label><select id="translationEditionPart" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideoPart">ุฎูููุฉ Pexels</label><input type="text" id="pexelsVideoPart" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLinkPart">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkPart" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLinkPart">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkPart" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label for="surahNumber">ุงูุณูุฑุฉ</label><select id="surahNumber" class="form-control"></select></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูุจุฏุงูุฉ</div><input type="text" id="startVerse" placeholder="ุฑูู ุขูุฉ ุงูุจุฏุงูุฉ"></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูููุงูุฉ</div><input type="text" id="endVerse" placeholder="ุฑูู ุขูุฉ ุงูููุงูุฉ"></div>
            <div class="form-group"><label for="edition">ุงููุงุฑุฆ</label><select id="edition" class="form-control"></select></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoPart"><label for="verticalVideoPart">ููุฏูู ุนููุฏู (9:16)</label></div>
            <button class="action-btn create-btn">ุฅูุดุงุก ุงูููุฏูู</button>
          </div>
        </div>
      </div>
    </div>
  </div>

    <div id="fullFormCustom" class="page">
        <button class="back-btn" onclick="showPage('fullOptions')"><span>โ</span> ุฑุฌูุน</button>
        <div class="container">
          <div class="header"><h1 class="logo">ุงูุณูุฑุฉ ุงููุงููุฉ (ูุฎุตุต)</h1></div>
          <div class="form-container">
            <div class="form-grid">
              <div class="form-section">
                <h3>ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
                <div class="form-group"><label for="fontColorFullCustom">ููู ุงููุต</label><input type="color" id="fontColorFullCustom" value="#ffffff"></div>
                <div class="form-group"><label for="fontSizeFullCustom">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizeFullCustom" min="1" max="72" value="10"><span id="fontSizeValueFullCustom">10px</span></div>
                <div class="form-group"><label for="fontNameFullCustom">ุงูุฎุท</label><select id="fontNameFullCustom" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
                <div class="form-group"><label for="translationEditionFullCustom">ุงูุชุฑุฌูุฉ</label><select id="translationEditionFullCustom" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
                <div class="form-group"><label for="pexelsVideoFullCustom">ุฎูููุฉ Pexels</label><input type="text" id="pexelsVideoFullCustom" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
                <div class="form-group"><label for="imageLinkFullCustom">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkFullCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
                <div class="form-group"><label for="youtubeLinkFullCustom">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkFullCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
              </div>
              <div class="form-section">
                <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
                <div class="form-group"><label for="fullSurahNumberCustom">ุงูุณูุฑุฉ</label><select id="fullSurahNumberCustom" class="form-control"></select></div>
                <div class="form-group"><label for="customAudioFull">ุฑูุน ุงูุชูุงูุฉ</label><input type="file" id="customAudioFull" accept="audio/*"></div>
                <div class="checkbox-group"><input type="checkbox" id="verticalVideoFullCustom"><label for="verticalVideoFullCustom">ููุฏูู ุนููุฏู (9:16)</label></div>
                <button class="action-btn create-btn">ูุฒุงููุฉ ุงูุตูุช</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <div id="partFormCustom" class="page">
        <button class="back-btn" onclick="showPage('partOptions')"><span>โ</span> ุฑุฌูุน</button>
        <div class="container">
          <div class="header"><h1 class="logo">ุขูุงุช (ูุฎุตุต)</h1></div>
          <div class="form-container">
            <div class="form-grid">
              <div class="form-section">
                <h3>ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
                <div class="form-group"><label for="fontColorPartCustom">ููู ุงููุต</label><input type="color" id="fontColorPartCustom" value="#ffffff"></div>
                <div class="form-group"><label for="fontSizePartCustom">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizePartCustom" min="1" max="72" value="10"><span id="fontSizeValuePartCustom">10px</span></div>
                <div class="form-group"><label for="fontNamePartCustom">ุงูุฎุท</label><select id="fontNamePartCustom" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
                <div class="form-group"><label for="translationEditionPartCustom">ุงูุชุฑุฌูุฉ</label><select id="translationEditionPartCustom" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
                <div class="form-group"><label for="pexelsVideoPartCustom">ุฎูููุฉ Pexels</label><input type="text" id="pexelsVideoPartCustom" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
                <div class="form-group"><label for="imageLinkPartCustom">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkPartCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
                <div class="form-group"><label for="youtubeLinkPartCustom">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkPartCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
              </div>
              <div class="form-section">
                <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
                <div class="form-group"><label for="surahNumberCustom">ุงูุณูุฑุฉ</label><select id="surahNumberCustom" class="form-control"></select></div>
                <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูุจุฏุงูุฉ</div><input type="text" id="startVerseCustom" placeholder="ุฑูู ุขูุฉ ุงูุจุฏุงูุฉ"></div>
                <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูููุงูุฉ</div><input type="text" id="endVerseCustom" placeholder="ุฑูู ุขูุฉ ุงูููุงูุฉ"></div>
                <div class="form-group"><label for="customAudioPart">ุฑูุน ุงูุชูุงูุฉ</label><input type="file" id="customAudioPart" accept="audio/*"></div>
                <div class="checkbox-group"><input type="checkbox" id="verticalVideoPartCustom"><label for="verticalVideoPartCustom">ููุฏูู ุนููุฏู (9:16)</label></div>
                <button class="action-btn create-btn">ูุฒุงููุฉ ุงูุตูุช</button>
              </div>
            </div>
          </div>
        </div>
      </div>

  <div id="tapToSyncPage" class="page">
    <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header">
        <h1 class="logo">ูุฒุงููุฉ ุงูุชูุงูุฉ</h1>
        <p class="subtitle">ุงุถุบุท ูููุฒุงููุฉ ูุน ุจุฏุงูุฉ ูู ุขูุฉ</p>
      </div>
      <div class="verse-display" id="currentVerseDisplay">...</div>
      <div id="waveform"></div>
      <audio id="syncAudioPlayer" style="display:none;"></audio>
      <div class="audio-controls">
        <button id="playPauseBtn" class="control-btn"><i class="fas fa-play"></i></button>
        <button id="stopBtn" class="control-btn"><i class="fas fa-stop"></i></button>

        <button id="markVerseBtn">ูุฒุงููุฉ ุงูุขูุฉ</button>
        <button id="resetSyncBtn" style="background-color: #f44336;">ุฅุนุงุฏุฉ ุงูุถุจุท</button>
      </div>
      <div id="syncStatus"></div>
      <div id="syncProgress"><div id="syncProgressBar"></div></div>
      <button id="finishSyncBtn" class="action-btn create-btn" style="margin-top: 30px; display: none;">ุฅููุงุก ู ุฅูุดุงุก ุงูููุฏูู</button>
    </div>
  </div>

  <div id="videoPreview" class="page">
      <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
      <div class="container">
        <div class="header">
          <h1 class="logo">ุงููุนุงููุฉ</h1>
          <p class="subtitle">ููุฏูู ุงููุฑุขู ุงูุฎุงุต ุจู</p>
        </div>
        <div class="preview-container">
          <div class="preview-content">
            <div class="video-frame"><video id="previewVideo" controls controlsList="nodownload"></video></div>
            <div class="preview-actions">
              <button class="download-btn" onclick="downloadCurrentVideo()"><i class="fas fa-download"></i> ุชุญููู</button>
              <button class="share-btn" onclick="shareCurrentVideo()"><i class="fas fa-share-alt"></i> ูุดุงุฑูุฉ</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  <div id="gallery" class="page">
    <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
    <div class="gallery-grid" id="gallery-grid"></div>
  </div>

  <script src="https://unpkg.com/wavesurfer.js"></script>
  <script type="module" src="js/main.js"></script>
  <script>
    let previousPage = '';
    window.showPage = function (pageId, from = '') {
      const current = document.querySelector('.page.active');
      if (current) previousPage = from || current.id;
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      setTimeout(() => document.getElementById(pageId).classList.add('active'), 150);
    };
    window.goBack = () => showPage(previousPage || 'mainMenu');

    document.getElementById('fontSize').addEventListener('input', e => { document.getElementById('fontSizeValue').textContent = e.target.value + 'px'; });
    document.getElementById('fontSizePart').addEventListener('input', e => { document.getElementById('fontSizeValuePart').textContent = e.target.value + 'px'; });

    function downloadCurrentVideo() {
      const videoElement = document.getElementById('previewVideo');
      const fileName = videoElement.getAttribute('data-filename');
      if (!fileName) return alert('ูุง ููุฌุฏ ููุฏูู ูุชุงุญ ููุชุญููู');
      const a = document.createElement('a');
      a.href = `/videos/${fileName}?download=true`;
      a.download = fileName;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }
    function shareCurrentVideo() {
        const videoElement = document.getElementById('previewVideo');
        const videoName = videoElement.getAttribute('data-filename');
        if (navigator.share) {
            navigator.share({ title: 'Quran Video', text: 'ุดุงูุฏ ูุฐุง ุงูููุฏูู ูููุฑุขู ุงููุฑูู', url: window.location.origin + `/videos/${videoName}` }).catch(console.error);
        } else {
            navigator.clipboard.writeText(window.location.origin + `/videos/${videoName}`);
            alert('ุชู ูุณุฎ ุฑุงุจุท ุงูููุฏูู!');
        }
    }
  </script>
</body>
</html>