<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QVM</title>
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/css/tom-select.bootstrap5.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <div class="islamic-pattern"></div>

  <div id="authPage" class="page active">
    <div class="container">
      <div class="header">
        <h1 class="logo">QVM</h1>
        <p class="arabic-subtitle">ุตุงูุน ููุฏูู ุงููุฑุขู ุงููุฑูู</p>
      </div>

      <div id="loginSection" class="form-container" style="max-width: 400px; margin: 0 auto;">
        <h3 style="text-align: center; margin-bottom: 20px;">ุชุณุฌูู ุงูุฏุฎูู</h3>
        <form id="loginForm">
          <div class="form-group"><label for="loginUsername">ุงุณู ุงููุณุชุฎุฏู</label><input type="text" id="loginUsername" class="form-control" required autocomplete="username"></div>
          <div class="form-group"><label for="loginPassword">ูููุฉ ุงููุฑูุฑ</label><input type="password" id="loginPassword" class="form-control" required autocomplete="current-password"></div>
          <div id="loginError" style="color: #ff4444; text-align: center; margin: 10px 0; font-size: 14px;"></div>
          <button type="submit" class="action-btn create-btn" style="width: 100%;">ุชุณุฌูู ุงูุฏุฎูู</button>
        </form>
        <p style="text-align: center; margin-top: 15px; font-size: 14px;">ููุณ ูุฏูู ุญุณุงุจุ <a href="#" id="showRegister" style="color: var(--accent-color);">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</a></p>
      </div>

      <div id="registerSection" class="form-container" style="max-width: 400px; margin: 0 auto; display: none;">
        <h3 style="text-align: center; margin-bottom: 20px;">ุฅูุดุงุก ุญุณุงุจ</h3>
        <form id="registerForm">
          <div class="form-group"><label for="regUsername">ุงุณู ุงููุณุชุฎุฏู</label><input type="text" id="regUsername" class="form-control" required autocomplete="username" minlength="3" maxlength="30"></div>
          <div class="form-group"><label for="regEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label><input type="email" id="regEmail" class="form-control" required autocomplete="email"></div>
          <div class="form-group"><label for="regPassword">ูููุฉ ุงููุฑูุฑ</label><input type="password" id="regPassword" class="form-control" required autocomplete="new-password" minlength="6"></div>
          <div class="form-group"><label for="regConfirmPassword">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ</label><input type="password" id="regConfirmPassword" class="form-control" required autocomplete="new-password"></div>
          <div id="registerError" style="color: #ff4444; text-align: center; margin: 10px 0; font-size: 14px;"></div>
          <button type="submit" class="action-btn create-btn" style="width: 100%;">ุฅูุดุงุก ุญุณุงุจ</button>
        </form>
        <p style="text-align: center; margin-top: 15px; font-size: 14px;">ูุฏูู ุญุณุงุจ ุจุงููุนูุ <a href="#" id="showLogin" style="color: var(--accent-color);">ุชุณุฌูู ุงูุฏุฎูู</a></p>
      </div>
    </div>
  </div>

  <div id="mainMenu" class="page">
    <div class="container">
      <div class="header">
        <div id="userInfo" style="display: none; justify-content: center; align-items: center; gap: 15px; margin-bottom: 10px; font-size: 14px;">
          <span style="color: #a5d6a7;"><i class="fas fa-user" style="margin-left: 5px;"></i><span id="currentUsername"></span></span>
          <a href="#" id="logoutBtn" style="color: #ff8a80; text-decoration: none; font-size: 13px;"><i class="fas fa-sign-out-alt" style="margin-left: 3px;"></i>ุฎุฑูุฌ</a>
        </div>
        <h1 class="logo">QVM</h1>
        <p class="arabic-subtitle">ุตุงูุน ููุฏูู ุงููุฑุขู ุงููุฑูู</p>
        <p class="arabic-subtitle" style="font-size: 14px; color: #a5d6a7; margin-top: 10px; font-weight: normal;"><i class="fas fa-heart" style="font-size: 10px; margin-left: 5px;"></i>ุฏูุงุฆู ุงูุงูุชุธุงุฑ .. ุงููุฃูุง ุจุงูุงุณุชุบูุงุฑ<i class="fas fa-heart" style="font-size: 10px; margin-right: 5px;"></i></p>
      </div>
      <div class="nav-buttons">
        <div class="nav-btn" onclick="showPage('fullOptions')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐</span>
            <div class="nav-btn-title">ุณูุฑุฉ ูุงููุฉ</div>
            <div class="nav-btn-desc">ุฅูุดุงุก ููุฏูู ูุงูู ููุณูุฑุฉ ูุน ุงูุชูุงูุฉ</div>
          </div>
        </div>
        <div class="nav-btn" onclick="showPage('partOptions')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐</span>
            <div class="nav-btn-title">ุขูุงุช</div>
            <div class="nav-btn-desc">ุฅูุดุงุก ููุฏูู ูุขูุงุช ูุญุฏุฏุฉ ุฃู ูุทุงู ูุนูู</div>
          </div>
        </div>
        <div class="nav-btn" onclick="showPage('gallery')">
          <div class="nav-btn-content">
            <span class="nav-btn-icon">๐ฌ</span>
            <div class="nav-btn-title">ุงููุนุฑุถ</div>
            <div class="nav-btn-desc">ุชุตูุญ ูุฃุฏุฑู ููุงุทุน ุงูููุฏูู ุงูุชู ุฃูุดุฃุช</div>
          </div>
        </div>
      </div>

      <div style="margin-top: 40px; text-align: center; opacity: 0.6; font-size: 12px;">
        <a href="https://github.com/modhtom/QVM" target="_blank" style="color: #000000; text-decoration: none; display: inline-flex; align-items: center; gap: 5px; transition: opacity 0.2s;">
          <i class="fab fa-github"></i> Project Repo
        </a>
      </div>

    </div>
  </div>

  <div id="fullOptions" class="page">
    <button class="back-btn" onclick="showPage('mainMenu')"><span>โ</span> ุงูุนูุฏุฉ ุฅูู ุงููุงุฆูุฉ</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุณูุฑุฉ ูุงููุฉ</h1></div>
      <div class="nav-buttons">
        <div class="nav-btn" onclick="showPage('fullForm')"><div class="nav-btn-content"><span class="nav-btn-icon">๐๏ธ</span><div class="nav-btn-title">ููุชุจุฉ ุงูุชูุงูุฉ</div><div class="nav-btn-desc">ุงุณุชุฎุฏุงู ููุชุจุฉ ุงูุชูุงูุฉ ุงููุฏูุฌุฉ</div></div></div>
        <div class="nav-btn" onclick="showPage('fullFormCustom')"><div class="nav-btn-content"><span class="nav-btn-icon">๐</span><div class="nav-btn-title">ุชูุงูุฉ ูุฎุตุตุฉ</div><div class="nav-btn-desc">ุฑูุน ุชูุงูุชู ุงูุฎุงุตุฉ</div></div></div>
      </div>
    </div>
  </div>

  <div id="partOptions" class="page">
    <button class="back-btn" onclick="showPage('mainMenu')"><span>โ</span> ุงูุนูุฏุฉ ุฅูู ุงููุงุฆูุฉ</button>
    <div class="container">
        <div class="header"><h1 class="logo">ุขูุงุช</h1></div>
        <div class="nav-buttons">
            <div class="nav-btn" onclick="showPage('partForm')"><div class="nav-btn-content"><span class="nav-btn-icon">๐๏ธ</span><div class="nav-btn-title">ููุชุจุฉ ุงูุชูุงูุฉ</div><div class="nav-btn-desc">ุงุณุชุฎุฏุงู ููุชุจุฉ ุงูุชูุงูุฉ ุงููุฏูุฌุฉ</div></div></div>
            <div class="nav-btn" onclick="showPage('partFormCustom')"><div class="nav-btn-content"><span class="nav-btn-icon">๐</span><div class="nav-btn-title">ุชูุงูุฉ ูุฎุตุตุฉ</div><div class="nav-btn-desc">ุฑูุน ุชูุงูุชู ุงูุฎุงุตุฉ</div></div></div>
        </div>
    </div>
</div>

  <div id="fullForm" class="page">
    <button class="back-btn" onclick="showPage('fullOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุงูุณูุฑุฉ ุงููุงููุฉ (ููุชุจุฉ)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>(ุงุฎุชูุงุฑู) ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColor">ููู ุงููุต</label><input type="color" id="fontColor" value="#ffffff"></div>
            <div class="form-group"><label for="fontSize">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSize" min="1" max="72" value="10"><span id="fontSizeValue">10px</span></div>
            <div class="form-group"><label for="fontNameFull">ุงูุฎุท</label><select id="fontNameFull" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
            <div class="form-group"><label for="subtitlePositionFull">ูููุน ุงููุต</label><select id="subtitlePositionFull" class="form-control"><option value="bottom">ุฃุณูู</option><option value="middle">ูุณุท</option></select></div>
            <div class="checkbox-group"><input type="checkbox" id="showMetadataFull"><label for="showMetadataFull">ุนุฑุถ ูุนูููุงุช ุงูุณูุฑุฉ ูุงููุงุฑุฆ</label></div>
            <div class="form-group"><label for="translationEditionFull">ุงูุชุฑุฌูุฉ</label><select id="translationEditionFull" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideo">ุฎูููุฉ ูู ูููุน unsplash</label><input type="text" id="pexelsVideo" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLink">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLink" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLink">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLink" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
            <div class="form-group"><label for="backgroundUploadFull">ุฑูุน ุฎูููุฉ</label><input type="file" id="backgroundUploadFull" class="form-control" accept="video/*,image/*"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label>ุงูุฑูุงูุฉ</label><select id="fullMushaf" class="form-control"></select></div>
            <div class="form-group"><label for="fullEdition">ุงููุงุฑุฆ</label><select id="fullEdition" class="form-control"></select></div>
            <div class="form-group"><label for="fullSurahNumber">ุงูุณูุฑุฉ</label><select id="fullSurahNumber" class="form-control"></select></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoFull"><label for="verticalVideoFull">ููุฏูู ุนููุฏู (9:16)</label></div>
            <button class="action-btn create-btn">ุฅูุดุงุก ุงูููุฏูู</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="partForm" class="page">
    <button class="back-btn" onclick="showPage('partOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุขูุงุช (ููุชุจุฉ)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>(ุงุฎุชูุงุฑู) ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColorPart">ููู ุงููุต</label><input type="color" id="fontColorPart" value="#ffffff"></div>
            <div class="form-group"><label for="fontSizePart">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizePart" min="1" max="72" value="10"><span id="fontSizeValuePart">10px</span></div>
            <div class="form-group"><label for="fontNamePart">ุงูุฎุท</label><select id="fontNamePart" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
            <div class="form-group"><label for="subtitlePositionPart">ูููุน ุงููุต</label><select id="subtitlePositionPart" class="form-control"><option value="bottom">ุฃุณูู</option><option value="middle">ูุณุท</option></select></div>
            <div class="checkbox-group"><input type="checkbox" id="showMetadataPart"><label for="showMetadataPart">ุนุฑุถ ูุนูููุงุช ุงูุณูุฑุฉ ูุงููุงุฑุฆ</label></div>
            <div class="form-group"><label for="translationEditionPart">ุงูุชุฑุฌูุฉ</label><select id="translationEditionPart" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideoPart">ุฎูููุฉ ูู ูููุน unsplash</label><input type="text" id="pexelsVideoPart" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLinkPart">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkPart" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLinkPart">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkPart" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
            <div class="form-group"><label for="backgroundUploadPart">ุฑูุน ุฎูููุฉ</label><input type="file" id="backgroundUploadPart" class="form-control" accept="video/*,image/*"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label>ุงูุฑูุงูุฉ</label><select id="partMushaf" class="form-control"></select></div>
            <div class="form-group"><label for="edition">ุงููุงุฑุฆ</label><select id="edition" class="form-control"></select></div>
            <div class="form-group"><label for="surahNumber">ุงูุณูุฑุฉ</label><select id="surahNumber" class="form-control"></select></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูุจุฏุงูุฉ</div><input type="text" id="startVerse" placeholder="ุฑูู ุขูุฉ ุงูุจุฏุงูุฉ"></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูููุงูุฉ</div><input type="text" id="endVerse" placeholder="ุฑูู ุขูุฉ ุงูููุงูุฉ"></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoPart"><label for="verticalVideoPart">ููุฏูู ุนููุฏู (9:16)</label></div>
            <button class="action-btn create-btn">ุฅูุดุงุก ุงูููุฏูู</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="fullFormCustom" class="page">
    <button class="back-btn" onclick="showPage('fullOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุงูุณูุฑุฉ ุงููุงููุฉ (ูุฎุตุต)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>(ุงุฎุชูุงุฑู) ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColorFullCustom">ููู ุงููุต</label><input type="color" id="fontColorFullCustom" value="#ffffff"></div>
            <div class="form-group"><label for="fontSizeFullCustom">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizeFullCustom" min="1" max="72" value="10"><span id="fontSizeValueFullCustom">10px</span></div>
            <div class="form-group"><label for="fontNameFullCustom">ุงูุฎุท</label><select id="fontNameFullCustom" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>

            <div class="form-group"><label for="subtitlePositionFullCustom">ูููุน ุงููุต</label><select id="subtitlePositionFullCustom" class="form-control"><option value="bottom">ุฃุณูู</option><option value="middle">ูุณุท</option></select></div>
            <div class="checkbox-group"><input type="checkbox" id="showMetadataFullCustom"><label for="showMetadataFullCustom">ุนุฑุถ ูุนูููุงุช ุงูุณูุฑุฉ</label></div>

            <div class="form-group"><label for="translationEditionFullCustom">ุงูุชุฑุฌูุฉ</label><select id="translationEditionFullCustom" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideoFullCustom">ุฎูููุฉ ูู ูููุน unsplash</label><input type="text" id="pexelsVideoFullCustom" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLinkFullCustom">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkFullCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLinkFullCustom">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkFullCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label for="fullSurahNumberCustom">ุงูุณูุฑุฉ</label><select id="fullSurahNumberCustom" class="form-control"></select></div>
            <div class="form-group"><label for="customAudioFull">ุฑูุน ุงูุชูุงูุฉ</label><input type="file" id="customAudioFull" accept="audio/*"></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoFullCustom"><label for="verticalVideoFullCustom">ููุฏูู ุนููุฏู (9:16)</label></div>
            <div class="form-group" style="margin-top: 20px;">
                <label>ุทุฑููุฉ ุงููุฒุงููุฉ</label>
                <div style="display: flex; gap: 10px;">
                    <button id="autoSyncBtnFull" class="action-btn" style="background: #2d7d5a; flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fas fa-magic"></i> ูุฒุงููุฉ ุชููุงุฆูุฉ
                    </button>
                    <button class="action-btn create-btn" style="margin-top: 0; flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fas fa-hand-pointer"></i> ูุฒุงููุฉ ูุฏููุฉ
                    </button>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
    
  <div id="partFormCustom" class="page">
    <button class="back-btn" onclick="showPage('partOptions')"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header"><h1 class="logo">ุขูุงุช (ูุฎุตุต)</h1></div>
      <div class="form-container">
        <div class="form-grid">
          <div class="form-section">
            <h3>(ุงุฎุชูุงุฑู) ุฅุนุฏุงุฏุงุช ุงูููุฏูู</h3>
            <div class="form-group"><label for="fontColorPartCustom">ููู ุงููุต</label><input type="color" id="fontColorPartCustom" value="#ffffff"></div>
            <div class="form-group"><label for="fontSizePartCustom">ุญุฌู ุงูุฎุท</label><input type="range" id="fontSizePartCustom" min="1" max="72" value="10"><span id="fontSizeValuePartCustom">10px</span></div>
            <div class="form-group"><label for="fontNamePartCustom">ุงูุฎุท</label><select id="fontNamePartCustom" class="form-control"><option value="Tasees Regular">Tasees</option><option value="DTHULUTH-II-1">DTHULUTH II</option></select></div>
            
            <div class="form-group"><label for="subtitlePositionPartCustom">ูููุน ุงููุต</label><select id="subtitlePositionPartCustom" class="form-control"><option value="bottom">ุฃุณูู</option><option value="middle">ูุณุท</option></select></div>
            <div class="checkbox-group"><input type="checkbox" id="showMetadataPartCustom"><label for="showMetadataPartCustom">ุนุฑุถ ูุนูููุงุช ุงูุณูุฑุฉ</label></div>

            <div class="form-group"><label for="translationEditionPartCustom">ุงูุชุฑุฌูุฉ</label><select id="translationEditionPartCustom" class="form-control"><option value="">ุจุฏูู</option><option value="en.sahih">English - Sahih</option><option value="es.cortes">Espaรฑol - Cortes</option></select></div>
            <div class="form-group"><label for="pexelsVideoPartCustom">ุฎูููุฉ ูู ูููุน unsplash</label><input type="text" id="pexelsVideoPartCustom" placeholder="ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ"></div>
            <div class="form-group"><label for="imageLinkPartCustom">ุฎูููุฉ ุตูุฑุฉ</label><input type="text" id="imageLinkPartCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ"></div>
            <div class="form-group"><label for="youtubeLinkPartCustom">ุฎูููุฉ YouTube</label><input type="text" id="youtubeLinkPartCustom" placeholder="ุฃุฏุฎู ุฑุงุจุท YouTube"></div>
          </div>
          <div class="form-section">
            <h3>ุฅุนุฏุงุฏุงุช ุงููุฑุขู</h3>
            <div class="form-group"><label for="surahNumberCustom">ุงูุณูุฑุฉ</label><select id="surahNumberCustom" class="form-control"></select></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูุจุฏุงูุฉ</div><input type="text" id="startVerseCustom" placeholder="ุฑูู ุขูุฉ ุงูุจุฏุงูุฉ"></div>
            <div class="arabic-input"><div class="arabic-label">ุขูุฉ ุงูููุงูุฉ</div><input type="text" id="endVerseCustom" placeholder="ุฑูู ุขูุฉ ุงูููุงูุฉ"></div>
            <div class="form-group"><label for="customAudioPart">ุฑูุน ุงูุชูุงูุฉ</label><input type="file" id="customAudioPart" accept="audio/*"></div>
            <div class="checkbox-group"><input type="checkbox" id="verticalVideoPartCustom"><label for="verticalVideoPartCustom">ููุฏูู ุนููุฏู (9:16)</label></div>
            <div class="form-group" style="margin-top: 20px;">
                <label>ุทุฑููุฉ ุงููุฒุงููุฉ</label>
                <div style="display: flex; gap: 10px;">
                    <button id="autoSyncBtnPart" class="action-btn" style="background: #2d7d5a; flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fas fa-magic"></i> ูุฒุงููุฉ ุชููุงุฆูุฉ
                    </button>
                    <button class="action-btn create-btn" style="margin-top: 0; flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fas fa-hand-pointer"></i> ูุฒุงููุฉ ูุฏููุฉ
                    </button>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="tapToSyncPage" class="page">
    <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
    <div class="container">
      <div class="header">
        <h1 class="logo">ูุฒุงููุฉ ุงูุชูุงูุฉ</h1>
        <p class="subtitle">ุงุถุบุท ูููุฒุงููุฉ ูุน ุจุฏุงูุฉ ูู ุขูุฉ</p>
      </div>
      <div class="verse-display" id="currentVerseDisplay">...</div>
      <div id="waveform"></div>
      <audio id="syncAudioPlayer" style="display:none;"></audio>
      <div class="audio-controls">
        <button id="playPauseBtn" class="control-btn"><i class="fas fa-play"></i></button>
        <button id="stopBtn" class="control-btn"><i class="fas fa-stop"></i></button>

        <button id="markVerseBtn">ูุฒุงููุฉ ุงูุขูุฉ</button>
        <button id="resetSyncBtn" style="background-color: #f44336;">ุฅุนุงุฏุฉ ุงูุถุจุท</button>
      </div>
      <div id="syncStatus"></div>
      <div id="syncProgress"><div id="syncProgressBar"></div></div>
      <button id="finishSyncBtn" class="action-btn create-btn" style="margin-top: 30px; display: none;">ุฅููุงุก ู ุฅูุดุงุก ุงูููุฏูู</button>
    </div>
  </div>

  <div id="videoPreview" class="page">
      <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
      <div class="container">
        <div class="header">
          <h1 class="logo">ุงููุนุงููุฉ</h1>
          <p class="subtitle">ููุฏูู ุงููุฑุขู ุงูุฎุงุต ุจู</p>
        </div>
        <div class="preview-container">
          <div class="preview-content">
            <div class="video-frame"><video id="previewVideo" controls></video></div>
            <div class="preview-actions">
              <button class="download-btn" onclick="downloadCurrentVideo()"><i class="fas fa-download"></i> ุชุญููู</button>
              <button class="share-btn" onclick="shareCurrentVideo()"><i class="fas fa-share-alt"></i> ูุดุงุฑูุฉ</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  <div id="gallery" class="page">
    <button class="back-btn" onclick="goBack()"><span>โ</span> ุฑุฌูุน</button>
    <div class="gallery-grid" id="gallery-grid"></div>
  </div>

  <script src="https://unpkg.com/wavesurfer.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/js/tom-select.complete.min.js"></script>
  <script type="module" src="js/main.js"></script>
  <script>
    let previousPage = '';
    window.showPage = function (pageId, from = '') {
      const current = document.querySelector('.page.active');
      if (current) previousPage = from || current.id;
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      setTimeout(() => document.getElementById(pageId).classList.add('active'), 150);
    };
    window.goBack = () => showPage(previousPage || 'mainMenu');

    document.getElementById('fontSize').addEventListener('input', e => { document.getElementById('fontSizeValue').textContent = e.target.value + 'px'; });
    document.getElementById('fontSizePart').addEventListener('input', e => { document.getElementById('fontSizeValuePart').textContent = e.target.value + 'px'; });

    function downloadCurrentVideo() {
      const videoElement = document.getElementById('previewVideo');
      const videoSrc = videoElement.src;
      
      const urlParts = videoSrc.split('/');
      const fileNameWithQuery = urlParts[urlParts.length - 1];
      const fileName = fileNameWithQuery.split('?')[0];
      
      if (!fileName) return alert('ูุง ูููู ุงูุนุซูุฑ ุนูู ุงุณู ุงูููู');

      const a = document.createElement('a');
      a.href = `/videos/${fileName}?download=true`;
      a.download = fileName;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    function shareCurrentVideo() {
        const videoElement = document.getElementById('previewVideo');
        const videoSrc = videoElement.src;
        if (!videoSrc || videoSrc.includes('undefined')) {
          return alert('ูุง ููุฌุฏ ููุฏูู ูุชุงุญ ูููุดุงุฑูุฉ');
        }
        
        const urlParts = videoSrc.split('/');
        const fileNameWithQuery = urlParts[urlParts.length - 1];
        const fileName = fileNameWithQuery.split('?')[0];
        
        const videoUrl = window.location.origin + `/Output_Video/${fileName}`;

        if (navigator.share) {
            navigator.share({ title: 'Quran Video', text: 'ุดุงูุฏ ูุฐุง ุงูููุฏูู ูููุฑุขู ุงููุฑูู', url: videoUrl }).catch(console.error);
        } else {
            navigator.clipboard.writeText(videoUrl);
            alert('ุชู ูุณุฎ ุฑุงุจุท ุงูููุฏูู!');
        }
    }
  </script>
</body>
</html>